---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import Terminal from '../components/Terminal.astro';
import Button from '../components/Button.astro';
---

<Layout title="Learn the ADI Cycle" description="Understand the Abduction-Deduction-Induction cycle for making better architectural decisions with AI coding tools.">
  <Header />

  <main class="flex-1">
    <!-- Hero -->
    <section class="border-b border-border-subtle py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h1 class="text-4xl font-bold text-text-primary sm:text-5xl">
          The ADI Cycle
        </h1>
        <p class="mt-4 text-xl text-text-secondary">
          A structured approach to architectural decisions. Understand it in 10 minutes.
        </p>
      </div>
    </section>

    <!-- The Problem (Expanded) -->
    <section class="py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-text-primary">The Problem</h2>

        <div class="mt-6 space-y-4 text-text-secondary">
          <p>
            AI coding assistants are remarkably capable. They understand your codebase,
            generate solutions, and explain complex patterns. But when it comes to
            <strong class="text-text-primary">architectural decisions</strong>,
            there's a problem.
          </p>

          <div class="mt-8 grid gap-6 sm:grid-cols-3">
            <div class="rounded-lg border border-border-subtle bg-bg-secondary p-5">
              <h3 class="font-mono text-sm font-semibold text-accent-green">Context Loss</h3>
              <p class="mt-2 text-sm text-text-muted">
                The reasoning behind a decision disappears when the chat session ends.
                Three months later, no one remembers why you chose Saga over Choreography.
              </p>
            </div>
            <div class="rounded-lg border border-border-subtle bg-bg-secondary p-5">
              <h3 class="font-mono text-sm font-semibold text-accent-blue">Anchoring Bias</h3>
              <p class="mt-2 text-sm text-text-muted">
                The first solution that comes up often becomes THE solution.
                Alternatives aren't systematically explored or compared.
              </p>
            </div>
            <div class="rounded-lg border border-border-subtle bg-bg-secondary p-5">
              <h3 class="font-mono text-sm font-semibold text-accent-purple">No Audit Trail</h3>
              <p class="mt-2 text-sm text-text-muted">
                When assumptions change, there's no way to revisit decisions.
                You end up re-debating the same questions.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- The Solution -->
    <section class="border-t border-border-subtle bg-bg-secondary/50 py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-text-primary">The Solution: ADI Cycle</h2>

        <p class="mt-4 text-text-secondary">
          The ADI cycle is based on three modes of reasoning from Pragmatic philosophy:
        </p>

        <div class="mt-8 space-y-2 font-mono text-sm">
          <p><span class="text-accent-green">Abduction</span> — Generate plausible hypotheses from observations</p>
          <p><span class="text-accent-blue">Deduction</span> — Derive logical consequences from hypotheses</p>
          <p><span class="text-accent-purple">Induction</span> — Test hypotheses against empirical evidence</p>
        </div>

        <p class="mt-6 text-text-secondary">
          quint-code implements this cycle with 5 phases, plus utility commands:
        </p>
      </div>
    </section>

    <!-- Phase 1: Hypothesize -->
    <section class="border-t border-border-subtle py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center gap-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-full bg-accent-green/10 font-mono text-lg font-bold text-accent-green">
            1
          </div>
          <h2 class="text-2xl font-bold text-text-primary">Hypothesize</h2>
          <code class="rounded bg-bg-secondary px-2 py-1 text-sm text-accent-green">/q1-hypothesize</code>
        </div>

        <div class="mt-6 grid gap-8 lg:grid-cols-2">
          <div class="space-y-4 text-text-secondary">
            <p>
              <strong class="text-text-primary">What:</strong> Generate 3-5 competing hypotheses
              that could solve the problem. Each should be distinct, not variations of the same idea.
            </p>
            <p>
              <strong class="text-text-primary">Why:</strong> Avoid anchoring on the first
              solution. Force exploration of the solution space before evaluation.
            </p>
            <p>
              <strong class="text-text-primary">Output:</strong> Hypotheses are saved to
              <code class="text-accent-green">.quint/knowledge/L0/</code> as unverified observations.
            </p>
          </div>

          <Terminal title="/q1-hypothesize">
            <div class="space-y-2 text-xs">
              <div><span class="text-accent-green">$</span> /q1-hypothesize "State management approach"</div>
              <div class="text-text-muted">Generating hypotheses...</div>
              <div class="mt-2"><span class="text-accent-blue">H1:</span> Redux with RTK Query</div>
              <div><span class="text-accent-blue">H2:</span> Zustand with React Query</div>
              <div><span class="text-accent-blue">H3:</span> React Context + SWR</div>
              <div class="mt-2 text-text-muted">Saved to .quint/knowledge/L0/</div>
            </div>
          </Terminal>
        </div>
      </div>
    </section>

    <!-- Phase 2: Verify -->
    <section class="border-t border-border-subtle bg-bg-secondary/50 py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center gap-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-full bg-accent-blue/10 font-mono text-lg font-bold text-accent-blue">
            2
          </div>
          <h2 class="text-2xl font-bold text-text-primary">Verify</h2>
          <code class="rounded bg-bg-tertiary px-2 py-1 text-sm text-accent-blue">/q2-verify</code>
        </div>

        <div class="mt-6 grid gap-8 lg:grid-cols-2">
          <div class="space-y-4 text-text-secondary">
            <p>
              <strong class="text-text-primary">What:</strong> Check each hypothesis for
              logical consistency. Does it contradict itself? Does it violate known constraints?
            </p>
            <p>
              <strong class="text-text-primary">Why:</strong> Eliminate impossible or
              contradictory approaches before spending time gathering evidence.
            </p>
            <p>
              <strong class="text-text-primary">Output:</strong> Hypotheses that pass move
              to <code class="text-accent-blue">.quint/knowledge/L1/</code> (Reasoned level).
            </p>
          </div>

          <Terminal title="/q2-verify">
            <div class="space-y-2 text-xs">
              <div><span class="text-accent-green">$</span> /q2-verify</div>
              <div class="text-text-muted">Checking logical consistency...</div>
              <div class="mt-2"><span class="text-accent-green">✓</span> H1: No contradictions found</div>
              <div><span class="text-accent-green">✓</span> H2: No contradictions found</div>
              <div><span class="text-red-400">×</span> H3: Conflicts with SSR requirement</div>
              <div class="mt-2 text-text-muted">H1, H2 promoted to L1/</div>
            </div>
          </Terminal>
        </div>
      </div>
    </section>

    <!-- Phase 3: Test -->
    <section class="border-t border-border-subtle py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center gap-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-full bg-accent-purple/10 font-mono text-lg font-bold text-accent-purple">
            3
          </div>
          <h2 class="text-2xl font-bold text-text-primary">Test / Research</h2>
          <code class="rounded bg-bg-secondary px-2 py-1 text-sm text-accent-purple">/q3-validate</code>
        </div>

        <div class="mt-6 grid gap-8 lg:grid-cols-2">
          <div class="space-y-4 text-text-secondary">
            <p>
              <strong class="text-text-primary">What:</strong> Gather empirical evidence.
              Run internal tests (benchmarks, simulations) or external research (docs, case studies).
            </p>
            <p>
              <strong class="text-text-primary">Why:</strong> Ground decisions in reality.
              Theory is good, but evidence is better.
            </p>
            <p>
              <strong class="text-text-primary">Output:</strong> Evidence is attached to
              hypotheses. Verified ones move to <code class="text-accent-purple">.quint/knowledge/L2/</code>.
            </p>
          </div>

          <Terminal title="/q3-validate">
            <div class="space-y-2 text-xs">
              <div><span class="text-accent-green">$</span> /q3-validate H1</div>
              <div class="text-text-muted">Gathering evidence for H1...</div>
              <div class="mt-2"><span class="text-accent-blue">→</span> RTK Query bundle size: 12kb</div>
              <div><span class="text-accent-blue">→</span> Caching: automatic, configurable</div>
              <div><span class="text-accent-blue">→</span> Team experience: 2/5 familiar</div>
              <div class="mt-2 text-text-muted">Evidence attached. H1 → L2/</div>
            </div>
          </Terminal>
        </div>
      </div>
    </section>

    <!-- Phase 4: Audit -->
    <section class="border-t border-border-subtle bg-bg-secondary/50 py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center gap-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-full bg-accent-green/10 font-mono text-lg font-bold text-accent-green">
            4
          </div>
          <h2 class="text-2xl font-bold text-text-primary">Audit</h2>
          <code class="rounded bg-bg-tertiary px-2 py-1 text-sm text-accent-green">/q4-audit</code>
        </div>

        <div class="mt-6 grid gap-8 lg:grid-cols-2">
          <div class="space-y-4 text-text-secondary">
            <p>
              <strong class="text-text-primary">What:</strong> Apply the Weakest Link (WLNK)
              principle. Check for cognitive biases. Look for blind spots.
            </p>
            <p>
              <strong class="text-text-primary">Why:</strong> The system is only as strong
              as its weakest component. Find it before production does.
            </p>
            <p>
              <strong class="text-text-primary">WLNK:</strong> Assurance level =
              min(all evidence), never average. One L0 claim drops the whole hypothesis.
            </p>
          </div>

          <Terminal title="/q4-audit">
            <div class="space-y-2 text-xs">
              <div><span class="text-accent-green">$</span> /q4-audit</div>
              <div class="text-text-muted">Running WLNK analysis...</div>
              <div class="mt-2">
                <span class="text-accent-blue">H1:</span> Overall L1
                <span class="text-text-muted">(team exp is L0)</span>
              </div>
              <div>
                <span class="text-accent-blue">H2:</span> Overall L2
              </div>
              <div class="mt-2 text-text-muted">Bias check: No anchoring detected</div>
              <div class="text-text-muted">Recommendation: H2 (Zustand + RQ)</div>
            </div>
          </Terminal>
        </div>
      </div>
    </section>

    <!-- Phase 5: Decide -->
    <section class="border-t border-border-subtle py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-center gap-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-full bg-accent-blue/10 font-mono text-lg font-bold text-accent-blue">
            5
          </div>
          <h2 class="text-2xl font-bold text-text-primary">Decide</h2>
          <code class="rounded bg-bg-secondary px-2 py-1 text-sm text-accent-blue">/q5-decide</code>
        </div>

        <div class="mt-6 grid gap-8 lg:grid-cols-2">
          <div class="space-y-4 text-text-secondary">
            <p>
              <strong class="text-text-primary">What:</strong> Create a Design Rationale
              Record (DRR) documenting the decision, alternatives considered, evidence,
              and conditions under which to revisit.
            </p>
            <p>
              <strong class="text-text-primary">Why:</strong> Preserve context for future
              you (and your team). When assumptions change, you'll know where to look.
            </p>
            <p>
              <strong class="text-text-primary">Output:</strong> A searchable, dated DRR
              with full rationale in <code class="text-accent-blue">.quint/decisions/</code>.
            </p>
          </div>

          <Terminal title="DRR-001.md">
            <div class="space-y-1 text-xs">
              <div class="text-text-muted"># Decision: State Management</div>
              <div class="text-text-muted">Date: 2024-01-15</div>
              <div class="mt-2"><span class="text-accent-green">Chosen:</span> H2 (Zustand + React Query)</div>
              <div class="mt-2 text-text-muted">## Rejected</div>
              <div>- H1: Team lacks Redux experience</div>
              <div>- H3: SSR incompatible</div>
              <div class="mt-2 text-text-muted">## Revisit when</div>
              <div>- Team grows past 10 engineers</div>
              <div>- Need for time-travel debugging</div>
            </div>
          </Terminal>
        </div>
      </div>
    </section>

    <!-- Key Concepts -->
    <section class="border-t border-border-subtle bg-bg-secondary/50 py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-text-primary">Key Concepts</h2>

        <div class="mt-8 grid gap-6 sm:grid-cols-3">
          <div class="rounded-lg border border-border-subtle bg-bg-secondary p-6">
            <h3 class="font-mono text-lg font-semibold text-text-primary">Assurance Levels</h3>
            <ul class="mt-4 space-y-2 text-sm text-text-secondary">
              <li><span class="text-text-muted">L0</span> — Observation (unverified)</li>
              <li><span class="text-accent-blue">L1</span> — Reasoned (logically consistent)</li>
              <li><span class="text-accent-green">L2</span> — Verified (empirically tested)</li>
            </ul>
          </div>

          <div class="rounded-lg border border-border-subtle bg-bg-secondary p-6">
            <h3 class="font-mono text-lg font-semibold text-text-primary">WLNK</h3>
            <p class="mt-4 text-sm text-text-secondary">
              Weakest Link principle: A chain is only as strong as its weakest link.
              Overall assurance = min(all evidence levels), never average.
            </p>
          </div>

          <div class="rounded-lg border border-border-subtle bg-bg-secondary p-6">
            <h3 class="font-mono text-lg font-semibold text-text-primary">Transformer Mandate</h3>
            <p class="mt-4 text-sm text-text-secondary">
              "AI generates options. You decide." A system cannot transform itself.
              The AI proposes, the human disposes.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- When to Use -->
    <section class="border-t border-border-subtle py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-text-primary">When to Use</h2>

        <div class="mt-8 grid gap-8 sm:grid-cols-2">
          <div class="rounded-lg border border-accent-green/20 bg-accent-green/5 p-6">
            <h3 class="font-mono text-sm font-semibold text-accent-green">Use quint-code for:</h3>
            <ul class="mt-4 space-y-2 text-sm text-text-secondary">
              <li>Architectural decisions with long-term impact</li>
              <li>Team decisions that need documentation</li>
              <li>Unfamiliar territory (new tech, new patterns)</li>
              <li>Decisions you'll need to justify later</li>
              <li>Complex problems with multiple valid approaches</li>
            </ul>
          </div>

          <div class="rounded-lg border border-red-400/20 bg-red-400/5 p-6">
            <h3 class="font-mono text-sm font-semibold text-red-400">Skip quint-code for:</h3>
            <ul class="mt-4 space-y-2 text-sm text-text-secondary">
              <li>Quick fixes and bug patches</li>
              <li>Obvious solutions with no alternatives</li>
              <li>Easily reversible decisions</li>
              <li>Time-critical emergencies</li>
              <li>Personal preference choices (tabs vs spaces)</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="border-t border-border-subtle py-16">
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-2xl font-bold text-text-primary">Ready to try it?</h2>
        <p class="mt-4 text-text-secondary">
          Install quint-code and run your first hypothesis cycle.
        </p>

        <div class="mt-8 flex flex-wrap justify-center gap-4">
          <Button href="/">Back to Home</Button>
          <Button href="/commands" variant="secondary">Command Reference</Button>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
